@0
L: MOV UP ACC
   MOV ACC RIGHT
   SWP
   ADD 1
   SWP
   JNZ L
MOV RIGHT NIL
SWP
SUB 1
O: MOV ACC DOWN
   SUB 1
   MOV DOWN NIL
   JNZ O
MOV 0 DOWN

@1
L: MOV DOWN ACC
MOV ACC LEFT
JNZ L
MOV 1 DOWN
MOV LEFT NIL

@2
L: MOV RIGHT ACC
   JEZ O
   MOV 1 DOWN
   MOV ACC DOWN
   MOV ACC DOWN
   JMP L
O: MOV 100 DOWN
MOV DOWN RIGHT

@3
S: MOV UP ACC
MOV ACC RIGHT
JEZ S
MOV 0 DOWN
L: MOV RIGHT ACC
   MOV ACC DOWN
   MOV ACC LEFT
   JNZ L
MOV DOWN NIL#DROP0
MOV LEFT RIGHT
MOV RIGHT UP

@4
MOV 0 UP
S: MOV LEFT ACC
JEZ R
L: MOV UP ACC
   MOV ACC LEFT
   JNZ L
MOV 0 UP
MOV LEFT DOWN
MOV RIGHT LEFT
JMP S
R: MOV 0 DOWN
   JMP S

@5
L: MOV DOWN ACC
   MOV ACC UP
   JNZ L
MOV UP LEFT

@6
# TRACK MIN
MOV 999 ACC
L: JRO UP
   SUB UP
   JGZ U
   ADD UP
   JMP L
U: MOV UP ACC
   JMP L
MOV ACC UP

@7
S: MOV UP ACC
MOV ACC DOWN
JEZ S
MOV ACC RIGHT
L: MOV LEFT ACC
   MOV ACC RIGHT
   MOV ACC RIGHT
   MOV ACC RIGHT
   JNZ L

@8
MOV LEFT ACC
L: SUB LEFT
   JEZ SKIP
   ADD LEFT
   MOV LEFT UP
   JMP L
SKIP:
   ADD LEFT
   MOV LEFT NIL
C: MOV LEFT UP
   MOV LEFT NIL
   MOV LEFT ACC
   JNZ C